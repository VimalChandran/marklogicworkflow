<?xml version="1.0" encoding="UTF-8"?>
<ext:readResponse xmlns:ext="http://marklogic.com/rest-api/resource/process"><ext:outcome>SUCCESS</ext:outcome><ext:document><wf:process id="b8e35142-0ebf-4b61-8513-7e03b4e5d1c3-2015-05-26T08:05:56.244116-07:00" title="015-restapi-tests__1__2" name="015-restapi-tests" major="1" minor="2" xmlns:wf="http://marklogic.com/workflow"><wf:data><choiceA>B</choiceA><choiceB>C</choiceB><newassignee>admin</newassignee></wf:data><wf:attachments><wf:attachment name="Menace" uri="/some/squid.xml"/><wf:attachment name="Document" uri="/initial/sampledoc.xml"/></wf:attachments><wf:audit-trail><wf:audit><wf:when>2015-05-26T08:06:00.905919-07:00</wf:when><wf:category>ProcessEngine</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/StartEvent_1</wf:state><wf:description>Completed step</wf:description><wf:detail/></wf:audit><wf:audit><wf:when>2015-05-26T08:06:14.024787-07:00</wf:when><wf:category>ProcessEngine</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_1</wf:state><wf:description>Marking as Complete</wf:description><wf:detail/></wf:audit><wf:audit><wf:when>2015-05-26T08:06:15.354859-07:00</wf:when><wf:category>ProcessEngine</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_1__complete</wf:state><wf:description>Completed step</wf:description><wf:detail/></wf:audit><wf:audit><wf:when>2015-05-26T08:06:30.512722-07:00</wf:when><wf:category>ProcessEngine</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_2</wf:state><wf:description>Marking as Complete</wf:description><wf:detail/></wf:audit><wf:audit><wf:when>2015-05-26T08:06:30.580293-07:00</wf:when><wf:category>ProcessEngine</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_2__complete</wf:state><wf:description>Completed step</wf:description><wf:detail/></wf:audit><wf:audit><wf:when>2015-05-26T08:06:30.614466-07:00</wf:when><wf:category>Exception</wf:category><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4</wf:state><wf:description>XDMP-AS</wf:description><wf:detail><error:error xsi:schemaLocation="http://marklogic.com/xdmp/error error.xsd" xmlns:error="http://marklogic.com/xdmp/error" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	      <error:code>XDMP-AS</error:code>
	      <error:name>err:XPTY0004</error:name>
	      <error:xquery-version>1.0-ml</error:xquery-version>
	      <error:message>Invalid coercion</error:message>
	      <error:format-string>XDMP-AS: (err:XPTY0004) wfu:evaluate($cpf:document-uri, (), xs:string($cpf:options/wf:dynamicUser)) -- Invalid coercion: xs:untypedAtomic("admin") as xs:boolean</error:format-string>
	      <error:retryable>false</error:retryable>
	      <error:expr>wfu:evaluate($cpf:document-uri, (), xs:string($cpf:options/wf:dynamicUser))</error:expr>
	      <error:data>
		<error:datum>xs:untypedAtomic("admin")</error:datum>
		<error:datum>xs:boolean</error:datum>
	      </error:data>
	      <error:stack>
		<error:frame>
		  <error:uri>/app/models/workflow-util.xqy</error:uri>
		  <error:line>339</error:line>
		  <error:column>115</error:column>
		  <error:operation>wfu:evaluate("/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", (), "$wf:process/wf:data/newassignee/text()")</error:operation>
		  <error:xquery-version>1.0-ml</error:xquery-version>
		</error:frame>
		<error:frame>
		  <error:uri>/workflowengine/actions/userTask.xqy</error:uri>
		  <error:line>38</error:line>
		  <error:column>22</error:column>
		  <error:operation>xdmp:invoke("/workflowengine/actions/userTask.xqy", (xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...), &lt;options xmlns="xdmp:eval"&gt;&lt;isolation&gt;different-transaction&lt;/isolation&gt;&lt;prevent-deadlocks&gt;t...&lt;/options&gt;)</error:operation>
		  <error:xquery-version>1.0-ml</error:xquery-version>
		</error:frame>
		<error:frame>
		  <error:uri>/MarkLogic/cpf/triggers/internal-cpf.xqy</error:uri>
		  <error:line>179</error:line>
		  <error:column>8</error:column>
		  <error:operation>execute-action("on-state-enter", "http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4", "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", (xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...), &lt;options xmlns="xdmp:eval"&gt;&lt;isolation&gt;different-transaction&lt;/isolation&gt;&lt;prevent-deadlocks&gt;t...&lt;/options&gt;, (fn:doc("http://marklogic.com/cpf/pipelines/2076324493862839020.xml")/p:pipeline, fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline), fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline/p:state-transition[14]/p:execute/p:action, fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline/p:state-transition[14])</error:operation>
		  <error:variables>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">caller</error:name>
		      <error:value>"on-state-enter"</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">state-or-status</error:name>
		      <error:value>"http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4"</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">uri</error:name>
		      <error:value>"/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8..."</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">vars</error:name>
		      <error:value>(xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...)</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">invoke-options</error:name>
		      <error:value>&lt;options xmlns="xdmp:eval"&gt;&lt;isolation&gt;different-transaction&lt;/isolation&gt;&lt;prevent-deadlocks&gt;t...&lt;/options&gt;</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">pipelines</error:name>
		      <error:value>(fn:doc("http://marklogic.com/cpf/pipelines/2076324493862839020.xml")/p:pipeline, fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline)</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">action-to-execute</error:name>
		      <error:value>fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline/p:state-transition[14]/p:execute/p:action</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">chosen-transition</error:name>
		      <error:value>fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline/p:state-transition[14]</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">raw-module-name</error:name>
		      <error:value>"/workflowengine/actions/userTask.xqy"</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">module-kind</error:name>
		      <error:value>"xquery"</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">module-name</error:name>
		      <error:value>"/workflowengine/actions/userTask.xqy"</error:value>
		    </error:variable>
		  </error:variables>
		  <error:xquery-version>1.0-ml</error:xquery-version>
		</error:frame>
		<error:frame>
		  <error:uri>/MarkLogic/cpf/triggers/internal-cpf.xqy</error:uri>
		  <error:line>320</error:line>
		  <error:column>6</error:column>
		  <error:operation>execute-transition("on-state-enter", "http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4", "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", (xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...), &lt;trgr:trigger xmlns:trgr="http://marklogic.com/xdmp/triggers"&gt;&lt;trgr:trigger-id&gt;15182658334006074265&lt;/trgr:trigger-id&gt;&lt;trgr:tri...&lt;/trgr:trigger&gt;, (fn:doc("http://marklogic.com/cpf/pipelines/2076324493862839020.xml")/p:pipeline, fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline), fn:doc("http://marklogic.com/cpf/pipelines/14663474739977627415.xml")/p:pipeline/p:state-transition[14], &lt;p:null-transition xmlns:p="http://marklogic.com/cpf/pipelines"&gt;&lt;p:state&gt;http://marklogic.com/states/015-restapi-tests__1__2/Use...&lt;/p:null-transition&gt;)</error:operation>
		  <error:variables>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">caller</error:name>
		      <error:value>cpf:state("http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4")</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">state-or-status</error:name>
		      <error:value>()</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">uri</error:name>
		      <error:value>(xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...)</error:value>
		    </error:variable>
		  </error:variables>
		  <error:xquery-version>1.0-ml</error:xquery-version>
		</error:frame>
		<error:frame>
		  <error:uri>/MarkLogic/cpf/triggers/internal-cpf.xqy</error:uri>
		  <error:line>336</error:line>
		  <error:column>3</error:column>
		  <error:operation>int:execute-state-transition("on-state-enter", cpf:state("http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", (xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...), &lt;trgr:trigger xmlns:trgr="http://marklogic.com/xdmp/triggers"&gt;&lt;trgr:trigger-id&gt;15182658334006074265&lt;/trgr:trigger-id&gt;&lt;trgr:tri...&lt;/trgr:trigger&gt;)</error:operation>
		  <error:variables>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">caller</error:name>
		      <error:value>cpf:state("http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4")</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">state</error:name>
		      <error:value>()</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name xmlns="http://marklogic.com/cpf/internal">uri</error:name>
		      <error:value>(xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...)</error:value>
		    </error:variable>
		  </error:variables>
		  <error:xquery-version>1.0-ml</error:xquery-version>
		</error:frame>
		<error:frame>
		  <error:uri>/MarkLogic/cpf/triggers/on-state-enter.xqy</error:uri>
		  <error:line>41</error:line>
		  <error:column>0</error:column>
		  <error:variables>
		    <error:variable>
		      <error:name>state</error:name>
		      <error:value>cpf:state("http://marklogic.com/states/015-restapi-tests__1__2/UserTask_4")</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name>trace</error:name>
		      <error:value>()</error:value>
		    </error:variable>
		    <error:variable>
		      <error:name>vars</error:name>
		      <error:value>(xs:QName("trgr:uri"), "/workflow/processes/015-restapi-tests__1__2/b8e35142-0ebf-4b61-8...", xs:QName("trgr:trigger"), ...)</error:value>
		    </error:variable>
		  </error:variables>
		  <error:xquery-version>0.9-ml</error:xquery-version>
		</error:frame>
	      </error:stack>
	    </error:error></wf:detail></wf:audit></wf:audit-trail><wf:metrics><wf:metric><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/StartEvent_1</wf:state><wf:start>2015-05-26T08:06:00.905919-07:00</wf:start><wf:finish>2015-05-26T08:06:00.905919-07:00</wf:finish><wf:duration>PT0S</wf:duration><wf:success>true</wf:success></wf:metric><wf:metric><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_1__complete</wf:state><wf:start>2015-05-26T08:06:15.354859-07:00</wf:start><wf:finish>2015-05-26T08:06:15.354859-07:00</wf:finish><wf:duration>PT0S</wf:duration><wf:success>true</wf:success></wf:metric><wf:metric><wf:state>http://marklogic.com/states/015-restapi-tests__1__2/UserTask_2__complete</wf:state><wf:start>2015-05-26T08:06:30.580293-07:00</wf:start><wf:finish>2015-05-26T08:06:30.580293-07:00</wf:finish><wf:duration>PT0S</wf:duration><wf:success>true</wf:success></wf:metric></wf:metrics></wf:process></ext:document></ext:readResponse>
